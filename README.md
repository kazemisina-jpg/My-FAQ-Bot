راهنما - ربات پاسخگوی هوشمند (نسخه ساده RAG + OpenAI)

فایل‌های این پروژه:
- index.html         -> رابط کاربری (فرانت‌اند)
- faq.json           -> پایگاه داده اولیه سوالات و پاسخ‌ها (قابل ویرایش)
- api/chat.js        -> تابع سرور (Vercel Serverless) که RAG ساده + OpenAI ChatCompletion را اجرا می‌کند
- api/feedback.js    -> ثبت بازخورد کاربران (ذخیره محلی در فایل feedbacks.json در محیط اجرایی - برای سرورهای ephemeral توصیه می‌شود به Google Sheets یا DB منتقل شود)

مراحل نصب و راه‌اندازی روی Vercel:

1) در Vercel لاگین کنید و پروژه را به ریپوی GitHub متصل کنید (یا آپلود مستقیم).
2) در Settings > Environment Variables در پروژه Vercel متغیر زیر را اضافه کنید:
   - Name: OPENAI_API_KEY
   - Value: (کلید API که از https://platform.openai.com گرفتید)

3) Deploy کنید. پس از Deploy، صفحهٔ اصلی آماده دریافت پرسش‌هاست.

توضیحات فنی خلاصه:
- در اولین درخواست، api/chat.js بررسی می‌کند که آیا فایل faq_embeddings.json وجود دارد یا خیر.
  - اگر وجود نداشته باشد، از OpenAI Embeddings API استفاده شده تا برای هر آیتم FAQ بردار ساخته و در faq_embeddings.json ذخیره شود.
- برای هر سؤال کاربر، بردار آن ساخته می‌شود و سپس با بردارهای FAQ مقایسه (cosine similarity) می‌شود. بهترین ٣ آیتم انتخاب شده و همراه سؤال به مدل ChatCompletion داده می‌شوند تا پاسخ دقیق‌تری تولید شود.
- برای ثبت بازخورد از api/feedback.js استفاده شده که داده را در feedbacks.json ذخیره می‌کند. دقت کنید که سیستم‌های serverless فایل را پایدار نگه نمی‌دارند؛ بنابراین بهتر است بازخورد را به Google Sheets، Airtable یا یک پایگاه داده ارسال کنید.

نکات امنیتی:
- کلید OPENAI_API_KEY را در متغیر محیطی Vercel قرار دهید و هرگز آن را در کد منبع عمومی قرار ندهید.
- اگر می‌خواهید داده‌های حساس پردازش شوند، قبل از ارسال به OpenAI از قوانین حریم خصوصی سازمان تبعیت کنید.

نیاز به کمک در هر مرحله داشتی، من جلو جلو همراهت هستم.
